import{r as a,g as Ne,j as V,R as xe}from"./chunk-EPOLDU6W-DpLngtnw.js";import{c as st}from"./routes-ulYaB1pG.js";import{i as it,a as he,u as ut,b as N,g as at,d as ie,e as ct,f as lt,h as ue,j as ft,k as dt,o as vt,l as mt,s as pt,m as gt,p as bt}from"./common-DmbqYWaq.js";import{r as _e}from"./index-Caj_bV3x.js";var ht=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],me=ht.join(","),je=typeof Element>"u",ee=je?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,re=!je&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},oe=function(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=o===""||o==="true",s=i||n&&e&&(typeof e.closest=="function"?e.closest("[inert]"):oe(e.parentNode));return s},Rt=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},yt=function(e,n,r){if(oe(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(me));return n&&ee.call(e,me)&&o.unshift(e),o=o.filter(r),o},pe=function(e,n,r){for(var o=[],i=Array.from(e);i.length;){var s=i.shift();if(!oe(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),l=u.length?u:s.children,c=pe(l,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:s,candidates:c})}else{var v=ee.call(s,me);v&&r.filter(s)&&(n||!e.includes(s))&&o.push(s);var p=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),g=!oe(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(p&&g){var f=pe(p===!0?s.children:p.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:s,candidates:f})}else i.unshift.apply(i,s.children)}}return o},$e=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Be=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Rt(e))&&!$e(e)?0:e.tabIndex},Et=function(e,n){var r=Be(e);return r<0&&n&&!$e(e)?0:r},xt=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Ke=function(e){return e.tagName==="INPUT"},wt=function(e){return Ke(e)&&e.type==="hidden"},Ct=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},St=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Tt=function(e){if(!e.name)return!0;var n=e.form||re(e),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=St(o,e.form);return!i||i===e},It=function(e){return Ke(e)&&e.type==="radio"},Pt=function(e){return It(e)&&!Tt(e)},Mt=function(e){var n,r=e&&re(e),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==e){var s,u,l;for(i=!!((s=o)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&o;){var c,v,p;r=re(o),o=(c=r)===null||c===void 0?void 0:c.host,i=!!((v=o)!==null&&v!==void 0&&(p=v.ownerDocument)!==null&&p!==void 0&&p.contains(o))}}return i},we=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},At=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var s=ee.call(e,"details>summary:first-of-type"),u=s?e.parentElement:e;if(ee.call(u,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof o=="function"){for(var l=e;e;){var c=e.parentElement,v=re(e);if(c&&!c.shadowRoot&&o(c)===!0)return we(e);e.assignedSlot?e=e.assignedSlot:!c&&v!==e.ownerDocument?e=v.host:e=c}e=l}if(Mt(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return we(e);return!1},Lt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return ee.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Dt=function(e,n){return!(n.disabled||wt(n)||At(n,e)||Ct(n)||Lt(n))},Ce=function(e,n){return!(Pt(n)||Be(n)<0||!Dt(e,n))},Ot=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},We=function(e){var n=[],r=[];return e.forEach(function(o,i){var s=!!o.scopeParent,u=s?o.scopeParent:o,l=Et(u,s),c=s?We(o.candidates):u;l===0?s?n.push.apply(n,c):n.push(u):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:c})}),r.sort(xt).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Ue=function(e,n){n=n||{};var r;return n.getShadowRoot?r=pe([e],n.includeContainer,{filter:Ce.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Ot}):r=yt(e,n.includeContainer,Ce.bind(null,n)),We(r)};function kt(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Ft(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Ve(){return/apple/i.test(navigator.vendor)}function Nt(){return kt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function _t(){return Ft().includes("jsdom/")}const Se="data-floating-ui-focusable",jt="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function ge(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function J(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&it(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function z(t){return"composedPath"in t?t.composedPath()[0]:t.target}function ae(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function $t(t){return t.matches("html,body")}function Y(t){return t?.ownerDocument||document}function Bt(t){return he(t)&&t.matches(jt)}function Kt(t){if(!t||_t())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function Wt(t){return t?t.hasAttribute(Se)?t:t.querySelector("["+Se+"]")||t:null}function ne(t,e,n){return n===void 0&&(n=!0),t.filter(o=>{var i;return o.parentId===e&&(!n||((i=o.context)==null?void 0:i.open))}).flatMap(o=>[o,...ne(t,o.id,n)])}function Ut(t){return"nativeEvent"in t}function be(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}var Vt=typeof document<"u",Yt=function(){},B=Vt?a.useLayoutEffect:Yt;const qt={...Ne};function G(t){const e=a.useRef(t);return B(()=>{e.current=t}),e}const Ht=qt.useInsertionEffect,Xt=Ht||(t=>t());function U(t){const e=a.useRef(()=>{});return Xt(()=>{e.current=t}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}const Ye=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function qe(t,e){const n=Ue(t,Ye()),r=n.length;if(r===0)return;const o=ge(Y(t)),i=n.indexOf(o),s=i===-1?e===1?0:r-1:i+e;return n[s]}function Gt(t){return qe(Y(t).body,1)||t}function Zt(t){return qe(Y(t).body,-1)||t}function ce(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!J(n,r)}function zt(t){Ue(t,Ye()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Te(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function He(t){const e=a.useRef(void 0),n=a.useCallback(r=>{const o=t.map(i=>{if(i!=null){if(typeof i=="function"){const s=i,u=s(r);return typeof u=="function"?u:()=>{s(null)}}return i.current=r,()=>{i.current=null}}});return()=>{o.forEach(i=>i?.())}},t);return a.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const Jt="data-floating-ui-focusable",Ie="active",Pe="selected",Qt={...Ne};let Me=!1,en=0;const Ae=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+en++;function tn(){const[t,e]=a.useState(()=>Me?Ae():void 0);return B(()=>{t==null&&e(Ae())},[]),a.useEffect(()=>{Me=!0},[]),t}const nn=Qt.useId,Re=nn||tn;function rn(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const on=a.createContext(null),sn=a.createContext(null),ye=()=>{var t;return((t=a.useContext(on))==null?void 0:t.id)||null},Ee=()=>a.useContext(sn);function te(t){return"data-floating-ui-"+t}function $(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const Le=te("safe-polygon");function le(t,e,n){if(n&&!be(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const r=t();return typeof r=="number"?r:r?.[e]}return t?.[e]}function fe(t){return typeof t=="function"?t():t}function un(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:s}=t,{enabled:u=!0,delay:l=0,handleClose:c=null,mouseOnly:v=!1,restMs:p=0,move:g=!0}=e,f=Ee(),b=ye(),m=G(c),y=G(l),C=G(n),E=G(p),x=a.useRef(),I=a.useRef(-1),A=a.useRef(),_=a.useRef(-1),K=a.useRef(!0),D=a.useRef(!1),O=a.useRef(()=>{}),j=a.useRef(!1),H=U(()=>{var h;const d=(h=o.current.openEvent)==null?void 0:h.type;return d?.includes("mouse")&&d!=="mousedown"});a.useEffect(()=>{if(!u)return;function h(d){let{open:w}=d;w||($(I),$(_),K.current=!0,j.current=!1)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[u,i]),a.useEffect(()=>{if(!u||!m.current||!n)return;function h(w){H()&&r(!1,w,"hover")}const d=Y(s.floating).documentElement;return d.addEventListener("mouseleave",h),()=>{d.removeEventListener("mouseleave",h)}},[s.floating,n,r,u,m,H]);const X=a.useCallback(function(h,d,w){d===void 0&&(d=!0),w===void 0&&(w="hover");const T=le(y.current,"close",x.current);T&&!A.current?($(I),I.current=window.setTimeout(()=>r(!1,h,w),T)):d&&($(I),r(!1,h,w))},[y,r]),W=U(()=>{O.current(),A.current=void 0}),R=U(()=>{if(D.current){const h=Y(s.floating).body;h.style.pointerEvents="",h.removeAttribute(Le),D.current=!1}}),P=U(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);a.useEffect(()=>{if(!u)return;function h(S){if($(I),K.current=!1,v&&!be(x.current)||fe(E.current)>0&&!le(y.current,"open"))return;const M=le(y.current,"open",x.current);M?I.current=window.setTimeout(()=>{C.current||r(!0,S,"hover")},M):n||r(!0,S,"hover")}function d(S){if(P()){R();return}O.current();const M=Y(s.floating);if($(_),j.current=!1,m.current&&o.current.floatingContext){n||$(I),A.current=m.current({...o.current.floatingContext,tree:f,x:S.clientX,y:S.clientY,onClose(){R(),W(),P()||X(S,!0,"safe-polygon")}});const L=A.current;M.addEventListener("mousemove",L),O.current=()=>{M.removeEventListener("mousemove",L)};return}(x.current!=="touch"||!J(s.floating,S.relatedTarget))&&X(S)}function w(S){P()||o.current.floatingContext&&(m.current==null||m.current({...o.current.floatingContext,tree:f,x:S.clientX,y:S.clientY,onClose(){R(),W(),P()||X(S)}})(S))}function T(){$(I)}function F(S){P()||X(S,!1)}if(N(s.domReference)){const S=s.domReference,M=s.floating;return n&&S.addEventListener("mouseleave",w),g&&S.addEventListener("mousemove",h,{once:!0}),S.addEventListener("mouseenter",h),S.addEventListener("mouseleave",d),M&&(M.addEventListener("mouseleave",w),M.addEventListener("mouseenter",T),M.addEventListener("mouseleave",F)),()=>{n&&S.removeEventListener("mouseleave",w),g&&S.removeEventListener("mousemove",h),S.removeEventListener("mouseenter",h),S.removeEventListener("mouseleave",d),M&&(M.removeEventListener("mouseleave",w),M.removeEventListener("mouseenter",T),M.removeEventListener("mouseleave",F))}}},[s,u,t,v,g,X,W,R,r,n,C,f,y,m,o,P,E]),B(()=>{var h;if(u&&n&&(h=m.current)!=null&&(h=h.__options)!=null&&h.blockPointerEvents&&H()){D.current=!0;const w=s.floating;if(N(s.domReference)&&w){var d;const T=Y(s.floating).body;T.setAttribute(Le,"");const F=s.domReference,S=f==null||(d=f.nodesRef.current.find(M=>M.id===b))==null||(d=d.context)==null?void 0:d.elements.floating;return S&&(S.style.pointerEvents=""),T.style.pointerEvents="none",F.style.pointerEvents="auto",w.style.pointerEvents="auto",()=>{T.style.pointerEvents="",F.style.pointerEvents="",w.style.pointerEvents=""}}}},[u,n,b,s,f,m,H]),B(()=>{n||(x.current=void 0,j.current=!1,W(),R())},[n,W,R]),a.useEffect(()=>()=>{W(),$(I),$(_),R()},[u,s.domReference,W,R]);const k=a.useMemo(()=>{function h(d){x.current=d.pointerType}return{onPointerDown:h,onPointerEnter:h,onMouseMove(d){const{nativeEvent:w}=d;function T(){!K.current&&!C.current&&r(!0,w,"hover")}v&&!be(x.current)||n||fe(E.current)===0||j.current&&d.movementX**2+d.movementY**2<2||($(_),x.current==="touch"?T():(j.current=!0,_.current=window.setTimeout(T,fe(E.current))))}}},[v,r,n,C,E]);return a.useMemo(()=>u?{reference:k}:{},[u,k])}const Xe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},De=a.forwardRef(function(e,n){const[r,o]=a.useState();B(()=>{Ve()&&o("button")},[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[te("focus-guard")]:"",style:Xe};return V.jsx("span",{...e,...i})}),Ge=a.createContext(null),Oe=te("portal");function an(t){t===void 0&&(t={});const{id:e,root:n}=t,r=Re(),o=ln(),[i,s]=a.useState(null),u=a.useRef(null);return B(()=>()=>{i?.remove(),queueMicrotask(()=>{u.current=null})},[i]),B(()=>{if(!r||u.current)return;const l=e?document.getElementById(e):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(Oe,""),l.appendChild(c),u.current=c,s(c)},[e,r]),B(()=>{if(n===null||!r||u.current)return;let l=n||o?.portalNode;l&&!ct(l)&&(l=l.current),l=l||document.body;let c=null;e&&(c=document.createElement("div"),c.id=e,l.appendChild(c));const v=document.createElement("div");v.id=r,v.setAttribute(Oe,""),l=c||l,l.appendChild(v),u.current=v,s(v)},[e,n,r,o]),i}function cn(t){const{children:e,id:n,root:r,preserveTabOrder:o=!0}=t,i=an({id:n,root:r}),[s,u]=a.useState(null),l=a.useRef(null),c=a.useRef(null),v=a.useRef(null),p=a.useRef(null),g=s?.modal,f=s?.open,b=!!s&&!s.modal&&s.open&&o&&!!(r||i);return a.useEffect(()=>{if(!i||!o||g)return;function m(y){i&&ce(y)&&(y.type==="focusin"?Te:zt)(i)}return i.addEventListener("focusin",m,!0),i.addEventListener("focusout",m,!0),()=>{i.removeEventListener("focusin",m,!0),i.removeEventListener("focusout",m,!0)}},[i,o,g]),a.useEffect(()=>{i&&(f||Te(i))},[f,i]),V.jsxs(Ge.Provider,{value:a.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:v,afterInsideRef:p,portalNode:i,setFocusManagerState:u}),[o,i]),children:[b&&i&&V.jsx(De,{"data-type":"outside",ref:l,onFocus:m=>{if(ce(m,i)){var y;(y=v.current)==null||y.focus()}else{const C=s?s.domReference:null,E=Zt(C);E?.focus()}}}),b&&i&&V.jsx("span",{"aria-owns":i.id,style:Xe}),i&&_e.createPortal(e,i),b&&i&&V.jsx(De,{"data-type":"outside",ref:c,onFocus:m=>{if(ce(m,i)){var y;(y=p.current)==null||y.focus()}else{const C=s?s.domReference:null,E=Gt(C);E?.focus(),s?.closeOnFocusOut&&s?.onOpenChange(!1,m.nativeEvent,"focus-out")}}})]})}const ln=()=>a.useContext(Ge),fn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},dn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ke=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function vn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=t,{enabled:s=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:v=!1,referencePressEvent:p="pointerdown",ancestorScroll:g=!1,bubbles:f,capture:b}=e,m=Ee(),y=U(typeof l=="function"?l:()=>!1),C=typeof l=="function"?y:l,E=a.useRef(!1),{escapeKey:x,outsidePress:I}=ke(f),{escapeKey:A,outsidePress:_}=ke(b),K=a.useRef(!1),D=U(R=>{var P;if(!n||!s||!u||R.key!=="Escape"||K.current)return;const k=(P=i.current.floatingContext)==null?void 0:P.nodeId,h=m?ne(m.nodesRef.current,k):[];if(!x&&(R.stopPropagation(),h.length>0)){let d=!0;if(h.forEach(w=>{var T;if((T=w.context)!=null&&T.open&&!w.context.dataRef.current.__escapeKeyBubbles){d=!1;return}}),!d)return}r(!1,Ut(R)?R.nativeEvent:R,"escape-key")}),O=U(R=>{var P;const k=()=>{var h;D(R),(h=z(R))==null||h.removeEventListener("keydown",k)};(P=z(R))==null||P.addEventListener("keydown",k)}),j=U(R=>{var P;const k=i.current.insideReactTree;i.current.insideReactTree=!1;const h=E.current;if(E.current=!1,c==="click"&&h||k||typeof C=="function"&&!C(R))return;const d=z(R),w="["+te("inert")+"]",T=Y(o.floating).querySelectorAll(w);let F=N(d)?d:null;for(;F&&!ue(F);){const L=ft(F);if(ue(L)||!N(L))break;F=L}if(T.length&&N(d)&&!$t(d)&&!J(d,o.floating)&&Array.from(T).every(L=>!J(F,L)))return;if(he(d)&&W){const L=ue(d),q=dt(d),Q=/auto|scroll/,Je=L||Q.test(q.overflowX),Qe=L||Q.test(q.overflowY),et=Je&&d.clientWidth>0&&d.scrollWidth>d.clientWidth,tt=Qe&&d.clientHeight>0&&d.scrollHeight>d.clientHeight,nt=q.direction==="rtl",rt=tt&&(nt?R.offsetX<=d.offsetWidth-d.clientWidth:R.offsetX>d.clientWidth),ot=et&&R.offsetY>d.clientHeight;if(rt||ot)return}const S=(P=i.current.floatingContext)==null?void 0:P.nodeId,M=m&&ne(m.nodesRef.current,S).some(L=>{var q;return ae(R,(q=L.context)==null?void 0:q.elements.floating)});if(ae(R,o.floating)||ae(R,o.domReference)||M)return;const se=m?ne(m.nodesRef.current,S):[];if(se.length>0){let L=!0;if(se.forEach(q=>{var Q;if((Q=q.context)!=null&&Q.open&&!q.context.dataRef.current.__outsidePressBubbles){L=!1;return}}),!L)return}r(!1,R,"outside-press")}),H=U(R=>{var P;const k=()=>{var h;j(R),(h=z(R))==null||h.removeEventListener(c,k)};(P=z(R))==null||P.addEventListener(c,k)});a.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=x,i.current.__outsidePressBubbles=I;let R=-1;function P(T){r(!1,T,"ancestor-scroll")}function k(){window.clearTimeout(R),K.current=!0}function h(){R=window.setTimeout(()=>{K.current=!1},lt()?5:0)}const d=Y(o.floating);u&&(d.addEventListener("keydown",A?O:D,A),d.addEventListener("compositionstart",k),d.addEventListener("compositionend",h)),C&&d.addEventListener(c,_?H:j,_);let w=[];return g&&(N(o.domReference)&&(w=ie(o.domReference)),N(o.floating)&&(w=w.concat(ie(o.floating))),!N(o.reference)&&o.reference&&o.reference.contextElement&&(w=w.concat(ie(o.reference.contextElement)))),w=w.filter(T=>{var F;return T!==((F=d.defaultView)==null?void 0:F.visualViewport)}),w.forEach(T=>{T.addEventListener("scroll",P,{passive:!0})}),()=>{u&&(d.removeEventListener("keydown",A?O:D,A),d.removeEventListener("compositionstart",k),d.removeEventListener("compositionend",h)),C&&d.removeEventListener(c,_?H:j,_),w.forEach(T=>{T.removeEventListener("scroll",P)}),window.clearTimeout(R)}},[i,o,u,C,c,n,r,g,s,x,I,D,A,O,j,_,H]),a.useEffect(()=>{i.current.insideReactTree=!1},[i,C,c]);const X=a.useMemo(()=>({onKeyDown:D,...v&&{[fn[p]]:R=>{r(!1,R.nativeEvent,"reference-press")},...p!=="click"&&{onClick(R){r(!1,R.nativeEvent,"reference-press")}}}}),[D,r,v,p]),W=a.useMemo(()=>({onKeyDown:D,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[dn[c]]:()=>{i.current.insideReactTree=!0}}),[D,c,i]);return a.useMemo(()=>s?{reference:X,floating:W}:{},[s,X,W])}function mn(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=Re(),i=a.useRef({}),[s]=a.useState(()=>rn()),u=ye()!=null,[l,c]=a.useState(r.reference),v=U((f,b,m)=>{i.current.openEvent=f?b:void 0,s.emit("openchange",{open:f,event:b,reason:m,nested:u}),n?.(f,b,m)}),p=a.useMemo(()=>({setPositionReference:c}),[]),g=a.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return a.useMemo(()=>({dataRef:i,open:e,onOpenChange:v,elements:g,events:s,floatingId:o,refs:p}),[e,v,g,s,o,p])}function pn(t){t===void 0&&(t={});const{nodeId:e}=t,n=mn({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[i,s]=a.useState(null),[u,l]=a.useState(null),v=o?.domReference||i,p=a.useRef(null),g=Ee();B(()=>{v&&(p.current=v)},[v]);const f=ut({...t,elements:{...o,...u&&{reference:u}}}),b=a.useCallback(x=>{const I=N(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),getClientRects:()=>x.getClientRects(),contextElement:x}:x;l(I),f.refs.setReference(I)},[f.refs]),m=a.useCallback(x=>{(N(x)||x===null)&&(p.current=x,s(x)),(N(f.refs.reference.current)||f.refs.reference.current===null||x!==null&&!N(x))&&f.refs.setReference(x)},[f.refs]),y=a.useMemo(()=>({...f.refs,setReference:m,setPositionReference:b,domReference:p}),[f.refs,m,b]),C=a.useMemo(()=>({...f.elements,domReference:v}),[f.elements,v]),E=a.useMemo(()=>({...f,...r,refs:y,elements:C,nodeId:e}),[f,y,C,e,r]);return B(()=>{r.dataRef.current.floatingContext=E;const x=g?.nodesRef.current.find(I=>I.id===e);x&&(x.context=E)}),a.useMemo(()=>({...f,context:E,refs:y,elements:C}),[f,y,C,E])}function de(){return Nt()&&Ve()}function gn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:s}=t,{enabled:u=!0,visibleOnly:l=!0}=e,c=a.useRef(!1),v=a.useRef(-1),p=a.useRef(!0);a.useEffect(()=>{if(!u)return;const f=at(s.domReference);function b(){!n&&he(s.domReference)&&s.domReference===ge(Y(s.domReference))&&(c.current=!0)}function m(){p.current=!0}function y(){p.current=!1}return f.addEventListener("blur",b),de()&&(f.addEventListener("keydown",m,!0),f.addEventListener("pointerdown",y,!0)),()=>{f.removeEventListener("blur",b),de()&&(f.removeEventListener("keydown",m,!0),f.removeEventListener("pointerdown",y,!0))}},[s.domReference,n,u]),a.useEffect(()=>{if(!u)return;function f(b){let{reason:m}=b;(m==="reference-press"||m==="escape-key")&&(c.current=!0)}return o.on("openchange",f),()=>{o.off("openchange",f)}},[o,u]),a.useEffect(()=>()=>{$(v)},[]);const g=a.useMemo(()=>({onMouseLeave(){c.current=!1},onFocus(f){if(c.current)return;const b=z(f.nativeEvent);if(l&&N(b)){if(de()&&!f.relatedTarget){if(!p.current&&!Bt(b))return}else if(!Kt(b))return}r(!0,f.nativeEvent,"focus")},onBlur(f){c.current=!1;const b=f.relatedTarget,m=f.nativeEvent,y=N(b)&&b.hasAttribute(te("focus-guard"))&&b.getAttribute("data-type")==="outside";v.current=window.setTimeout(()=>{var C;const E=ge(s.domReference?s.domReference.ownerDocument:document);!b&&E===s.domReference||J((C=i.current.floatingContext)==null?void 0:C.refs.floating.current,E)||J(s.domReference,E)||y||r(!1,m,"focus")})}}),[i,s.domReference,r,l]);return a.useMemo(()=>u?{reference:g}:{},[u,g])}function ve(t,e,n){const r=new Map,o=n==="item";let i=t;if(o&&t){const{[Ie]:s,[Pe]:u,...l}=t;i=l}return{...n==="floating"&&{tabIndex:-1,[Jt]:""},...i,...e.map(s=>{const u=s?s[n]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((s,u)=>(u&&Object.entries(u).forEach(l=>{let[c,v]=l;if(!(o&&[Ie,Pe].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof v=="function"){var p;(p=r.get(c))==null||p.push(v),s[c]=function(){for(var g,f=arguments.length,b=new Array(f),m=0;m<f;m++)b[m]=arguments[m];return(g=r.get(c))==null?void 0:g.map(y=>y(...b)).find(y=>y!==void 0)}}}else s[c]=v}),s),{})}}function bn(t){t===void 0&&(t=[]);const e=t.map(u=>u?.reference),n=t.map(u=>u?.floating),r=t.map(u=>u?.item),o=a.useCallback(u=>ve(u,t,"reference"),e),i=a.useCallback(u=>ve(u,t,"floating"),n),s=a.useCallback(u=>ve(u,t,"item"),r);return a.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}const hn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Rn(t,e){var n,r;e===void 0&&(e={});const{open:o,elements:i,floatingId:s}=t,{enabled:u=!0,role:l="dialog"}=e,c=Re(),v=((n=i.domReference)==null?void 0:n.id)||c,p=a.useMemo(()=>{var E;return((E=Wt(i.floating))==null?void 0:E.id)||s},[i.floating,s]),g=(r=hn.get(l))!=null?r:l,b=ye()!=null,m=a.useMemo(()=>g==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:o?p:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":g==="alertdialog"?"dialog":g,"aria-controls":o?p:void 0,...g==="listbox"&&{role:"combobox"},...g==="menu"&&{id:v},...g==="menu"&&b&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[g,p,b,o,v,l]),y=a.useMemo(()=>{const E={id:p,...g&&{role:g}};return g==="tooltip"||l==="label"?E:{...E,...g==="menu"&&{"aria-labelledby":v}}},[g,p,v,l]),C=a.useCallback(E=>{let{active:x,selected:I}=E;const A={role:"option",...x&&{id:p+"-fui-option"}};switch(l){case"select":case"combobox":return{...A,"aria-selected":I}}return{}},[p,l]);return a.useMemo(()=>u?{reference:m,floating:y,item:C}:{},[u,m,y,C])}const Fe=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Z(t,e){return typeof t=="function"?t(e):t}function yn(t,e){const[n,r]=a.useState(t);return t&&!n&&r(!0),a.useEffect(()=>{if(!t&&n){const o=setTimeout(()=>r(!1),e);return()=>clearTimeout(o)}},[t,n,e]),n}function En(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:o=250}=e,s=(typeof o=="number"?o:o.close)||0,[u,l]=a.useState("unmounted"),c=yn(n,s);return!c&&u==="close"&&l("unmounted"),B(()=>{if(r){if(n){l("initial");const v=requestAnimationFrame(()=>{_e.flushSync(()=>{l("open")})});return()=>{cancelAnimationFrame(v)}}l("close")}},[n,r]),{isMounted:c,status:u}}function xn(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=e,u=t.placement,l=u.split("-")[0],c=a.useMemo(()=>({side:l,placement:u}),[l,u]),v=typeof s=="number",p=(v?s:s.open)||0,g=(v?s:s.close)||0,[f,b]=a.useState(()=>({...Z(i,c),...Z(n,c)})),{isMounted:m,status:y}=En(t,{duration:s}),C=G(n),E=G(r),x=G(o),I=G(i);return B(()=>{const A=Z(C.current,c),_=Z(x.current,c),K=Z(I.current,c),D=Z(E.current,c)||Object.keys(A).reduce((O,j)=>(O[j]="",O),{});if(y==="initial"&&b(O=>({transitionProperty:O.transitionProperty,...K,...A})),y==="open"&&b({transitionProperty:Object.keys(D).map(Fe).join(","),transitionDuration:p+"ms",...K,...D}),y==="close"){const O=_||A;b({transitionProperty:Object.keys(O).map(Fe).join(","),transitionDuration:g+"ms",...K,...O})}},[g,x,C,E,I,p,y,c]),{isMounted:m,styles:f}}function wn({initialOpen:t=!1,placement:e="top",open:n,onOpenChange:r}={}){const[o,i]=a.useState(t),s=n??o,u=r??i,l=a.useRef(null),c=pn({placement:e,open:s,onOpenChange:u,whileElementsMounted:bt,middleware:[vt(5),mt({crossAxis:e.includes("-"),fallbackAxisSideDirection:"start",padding:5}),pt({padding:5}),gt({element:l})]}),v=c.context,p=un(v,{move:!1,enabled:n==null,delay:100}),g=gn(v,{enabled:n==null}),f=vn(v),b=Rn(v,{role:"tooltip"}),m=bn([p,g,f,b]);return{open:s,setOpen:u,arrowRef:l,...m,...c}}const Ze=a.createContext(null),ze=()=>{const t=a.useContext(Ze);if(t==null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return t};function Pn(t){const e=st.c(6);let n,r;e[0]!==t?({children:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const o=wn(r);let i;return e[3]!==n||e[4]!==o?(i=V.jsx(Ze.Provider,{value:o,children:n}),e[3]=n,e[4]=o,e[5]=i):i=e[5],i}function Mn({children:t,asChild:e=!1,...n}){const r=ze(),o=He([r.refs.setReference]);return e&&xe.isValidElement(t)?xe.cloneElement(t,r.getReferenceProps({ref:o,...n})):V.jsx("button",{ref:o,...r.getReferenceProps(n),children:t})}function An({style:t,ref:e,...n}){const r=ze(),o=He([r.refs.setFloating,e]),{isMounted:i,styles:s}=xn(r.context),{x:u,y:l}=r.middlewareData.arrow??{},c={top:"bottom",right:"left",bottom:"top",left:"right"}[r.placement.split("-")[0]]??"";return!r.open||!i?null:V.jsx(cn,{children:V.jsxs("div",{ref:o,style:{position:r.strategy,top:r.y??0,left:r.x??0,visibility:r.x==null?"hidden":"visible",...t,...s},...r.getFloatingProps(n),children:[n.children,V.jsx("div",{ref:r.arrowRef,className:"tooltip-arrow",style:{position:"absolute",width:"12px",height:"12px",background:"inherit",left:u!=null?`${u}px`:"",top:l!=null?`${l}px`:"",[c]:"-6px",transform:"rotate(45deg)"}})]})})}export{Mn as T,An as a,Pn as b};
